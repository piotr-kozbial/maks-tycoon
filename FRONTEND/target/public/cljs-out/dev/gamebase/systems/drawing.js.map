{"version":3,"file":"\/home\/ja\/projects\/maks-tycoon\/FRONTEND\/target\/public\/cljs-out\/dev\/gamebase\/systems\/drawing.js","sources":["drawing.cljs"],"lineCount":366,"mappings":";AAAA;;;;;;;;AAaA,sCAAA,tCAAMA,oFAAYC,IAAIC,EAAEC,EAAEC,EAAEC,EAAEC,MAAMC;AAApC,AACE,AAACC;;AACD,MAAA,IAAA,VAACC;;AACD,AAACC,MAAST,IAEAK,MAAM,CAAG,CAAA,OAAMC,SAAOF,GAAGD,EAAEC,EAE3BH,EAAEC,EAAEC,EAAEC;;AAChB,OAACM;;AAIH,GAAA,QAAAC,qCAAAC,6CAAAC,qDAAAC;AAAA;AAAA,AAAA,2CAAA,iBAAAC,6BAAA,AAAAC,yBAAA,lHAAUS;IAAVR,6BAAA,AAAAD,yBAAA;IAAAE,6BAAA,AAAAF,yBAAA;IAAAG,iCAAA,AAAAH,yBAAA;IAAAI,0BAAA,AAAAC,wBAAA,2CAAA,4DAAA,aAAA,gEAAA,AAAAC;AAAA,AAAA,YAAAC,kBAAA,AAAAC,2BAAA,2BAAA,mBAA0B;kBAAKE,QAAQC,GAAGC,GAAGC;AAAnB,AAA8BH;;CAAxD,KAAAN,wBAAAL,2BAAAE,2BAAAC,2BAAAC;;;AAEA,AAAAW,gCAAAL,yCAAA,KAAA,WACGC,QAAQG,UAAUF,GAAGC;AADxB,AAAA;;AAIA,AAEE,qCAAA,rCAAMG;AAAN,AACE,wCAAA,jCAACC;;;AAEH,AAAKC,qCACH,iCAAA,jCAACC;;AAEH,sCAAA,tCAAOC,oFAAYC,MAAMC;AAAzB,4DAEO,2BAAA,WAAAC,tCAACC,1BACD,AAACE,lCACD,OAACC;AAFD,AAAS,OAACF,yBAAE,0BAAAF,1BAACG,4CAASJ;GADtB,AAAA,uFAASD;;;AAKhB;AASA;AASA,uCAAA,2DAAAO,lGAAOK,sFAAaZ,MAAMa,eAAoDM;AAA9E,AAAA,IAAAX,aAAAD;IAAAC,iBAAA,EAAA,EAAA,EAAA,CAAAA,cAAA,QAAA,EAAA,EAAA,CAAA,AAAAA,iDAAA,WAAA,CAAAC,gCAAA,AAAAD,+BAAA,KAAA,OAAA,QAAA,AAAAE,0BAAAC,mBAAAH,YAAAA;cAAAA,VAAqEU;YAArE,AAAAjC,wBAAAuB,eAAA,\/CAAwCM;YAAxC,AAAA7B,wBAAAuB,eAAA,\/CAA8CO;YAA9C,AAAA9B,wBAAAuB,eAAA,\/CAAoDQ;YAApD,AAAA\/B,wBAAAuB,eAAA,\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","names":["gamebase.systems.drawing\/-put-image","img","x","y","w","h","dst-x","dst-y","js\/push","js\/scale","js\/image","js\/pop","js\/gamebase","js\/gamebase.systems","js\/gamebase.systems.drawing","js\/gamebase.systems.drawing.draw-tile-extra","method-table__4414__auto__","cljs.core\/atom","prefer-table__4415__auto__","method-cache__4416__auto__","cached-hierarchy__4417__auto__","hierarchy__4418__auto__","cljs.core\/get","cljs.core\/get-global-hierarchy","cljs.core\/MultiFn","cljs.core\/symbol","gamebase.systems.drawing\/draw-tile-extra","tile-id","tx","ty","tile-info","cljs.core\/-add-method","gamebase.systems.drawing\/mk-system","gamebase.ecs\/mk-system","gamebase.systems.drawing\/to-system","gamebase.ecs\/to-system","gamebase.systems.drawing\/-get-layer","world","layer-key","p1__20310#","cljs.core\/filter","cljs.core\/=","cljs.core\/first","cljs.core\/second","p__20312","map__20313","cljs.core\/PROTOCOL_SENTINEL","cljs.core\/apply","cljs.core\/hash-map","gamebase.systems.drawing\/-draw-layer","layer","min-x","max-x","min-y","max-y","context","draw-extra?","map__20315","tile-width","tile-height","world-width-in-tiles","world-height-in-tiles","ctx","tx-min","x__4037__auto__","y__4038__auto__","tx-max","x__4040__auto__","y__4041__auto__","ty-min","ty-max","tx-range","cljs.core\/range","ty-range","cljs.core\/doall","iter__4324__auto__","s__20318","cljs.core\/LazySeq","temp__5457__auto__","cljs.core\/seq","xs__6012__auto__","iterys__4320__auto__","s__20320","cljs.core\/chunked-seq?","c__4322__auto__","size__4323__auto__","cljs.core\/count","b__20322","cljs.core\/chunk-buffer","i__20321","cljs.core\/-nth","cljs.core\/chunk-append","cljs.core\/chunk-cons","cljs.core\/chunk","iter__20319","cljs.core\/chunk-rest","cljs.core\/cons","cljs.core\/rest","fs__4321__auto__","cljs.core\/concat","iter__20317","vec__20323","cljs.core\/nth","map__20326","vec__20328","map__20331","_","tile-number","tl","gamebase.layers\/get-tile-from-layer","inf","gamebase.layers\/get-rendering-information-for-tile","gamebase.resources\/get-resource","tile-data","app.tiles.general\/tiles-by-number","p1__20311#","cljs.core\/some","gamebase.systems.drawing\/draw-all","cljs.core\/dorun","gamebase.ecs\/pass-event-through-all","gamebase.ecs\/mk-event","gamebase.ecs\/all-components-of-system","gamebase.ecs\/handle-event","event","system","world'","p__20335","map__20336","gamebase.systems.drawing\/mk-static-image-component","entity-or-id","key","point-kvs","angle-kvs","center","resource-name-kvs","cljs.core\/assoc","gamebase.ecs\/mk-component","component","p__20338","map__20339","vec__20341","vec__20344","entity","gamebase.ecs\/get-entity","point-x","point-y","cljs.core\/get-in","center-x","center-y","angle","js\/translate","js\/rotate","p__20357","map__20358","gamebase.systems.drawing\/mk-path-component","path-kvs","color","p__20360","map__20361","path","len","gamebase.geometry\/path-length","n","d","js\/stroke","js\/color","seq__20363","chunk__20364","count__20365","i__20366","c__4351__auto__","cljs.core\/chunk-first","cljs.core\/next","i","js\/point","gamebase.geometry\/path-point-at-length"]}