{"version":3,"file":"\/home\/ja\/projects\/maks-tycoon\/FRONTEND\/target\/public\/cljs-out\/dev\/gamebase\/systems\/movement.js","sources":["movement.cljs"],"lineCount":166,"mappings":";AAAA;;;;;;;;AAiBA,sCAAA,tCAAMA;AAAN,AACE,wCAAA,jCAACC;;AAEH,AAAKC,sCACH,iCAAA,jCAACC;AAEH,AAAAC,gCAAAC,0BAAA,mFAAA,8DAAA,8GAAA,iEAAA,WACGC,MAAMC,MAAMC;AADf,AAEE,OAACC,8CAA2BH,MAAMC,MACN,AAACG,gDACAJ,MAAME;;AAKrC,uDAAA,vDAAMG,sHACHC,aAAaC,IAAIC;AADpB,AAKE,2CAAA,+HAAA,nKAACC,kJAA4BH,aAAaC;;AAE5C,AAAAT,gCAAAC,0BAAA,mFAAA,sEAAA,wHAAA,iEAAA,WACGC,MAAMC,MAAMS;AADf,AAGE,IAAMC,IAAE,AAAA,2HAAWV;IACbW,IAAE,2CAAA,3CAACC,wBAAI,cAAA,bAAK,CAAA,OAAQF;AAD1B,AAEE,2CAAA,8DAAA,lGAACG,0BAAMJ,2JACWE,EAAEA;;AAQxB,oDAAA,4DAAAG,hHAAMM,yHAC+EM;AADrF,AAAA,IAAAX,aAAAD;IAAAC,iBAAA,EAAA,EAAA,EAAA,CAAAA,cAAA,QAAA,EAAA,EAAA,CAAA,AAAAA,iDAAA,WAAA,CAAAC,gCAAA,AAAAD,+BAAA,KAAA,OAAA,QAAA,AAAAE,0BAAAC,mBAAAH,YAAAA;gBAAAA,ZAC0EN;WAD1E,AAAAU,wBAAAJ,eAAA,9CACWM;wBADX,AAAAF,wBAAAJ,eAAA,3DACgBO;sBADhB,AAAAH,wBAAAJ,eAAA,zDACkCQ;YADlC,AAAAJ,wBAAAJ,eAAA,\/CACkDS;mBADlD,AAAAL,wBAAAJ,eAAA,tDACwDU;AADxD,AAEE,IAAME,gCAA8B,AAACV,0BAAMW,cAAI,AAACC,yBAAK,AAACC,yBAAK,iBAAAC,mBAAIN;AAAJ,AAAA,oBAAAM;AAAAA;;AAAA;;MAAZ;IACzCC,eAAa,CAAA,CAAG,AAACC,wCAAcZ,QAAMC,qBAAkBK;AAD7D,AAEE,GAAM,SAAA,RAAGH;AAAT,AACE,0CAAA,lCAAK,CAAGE,OAAK,CAAGM,eAAaR;;AAD\/B;;;AAGJ,qCAAA,rCAAMU,kFAAUC,MAAKT,KAAKL,KAAKC;AAA\/B,AACE,IAAMc,UAAQ,AAAA,mGAAeD;IACvBE,uBAAS,kBAAI,AAAA,mFAAOF,QACT,iCAAA,jCAACG,yBAAKF,2FAAS,AAAA,mFAAOD,gBACtBC;IACXG,oCAAU,EAAI,CAAI,AAACC,0BAAMH,yBAAU,AAAA,6GAAoBF,SAC3CE,qBACA,AAACpB,0BAAMwB,iBAAO,AAACC,yBAAKL;IAChCM,oBAAM,gCAAA,uGAAA,0DAAA,+FAAA,hSAAC9B,0BAAMsB,2EACcI,uFACRlB,kFACaC,6FACFI;IAC9BkB,gBAAc,AAACxB,4DAAwBuB,kBAAMjB;AAZnD,AAAA,0FAaG,4CAAA,5CAACb,0BAAM8B,wFAAqBC,eAE5B,sCAAA,tCAACC,gCAAaV,+DAAaS;;AAEhC,sCAAA,tCAAME,oFAAWC,aAAOC,aAAOC;AAA\/B,AACE,IAAAC,aAQiBH;IARjBG,iBAAA,EAAA,EAAA,EAAA,CAAAA,cAAA,QAAA,EAAA,EAAA,CAAA,AAAAA,iDAAA,WAAA,CAAAlC,gCAAA,AAAAkC,+BAAA,KAAA,OAAA,QAAA,AAAAjC,0BAAAC,mBAAAgC,YAAAA;WAAA,AAAA\/B,wBAAA+B,eAAA,9CAAc7B;kBAAd,AAAAF,wBAAA+B,eAAA,rDACcC;sBADd,AAAAhC,wBAAA+B,eAAA,zDAEc3B;wBAFd,AAAAJ,wBAAA+B,eAAA,3DAGc5B;oBAHd,AAAAH,wBAAA+B,eAAA,vDAIcN;YAJd,AAAAzB,wBAAA+B,eAAA,\/CAKc1B;qBALd,AAAAL,wBAAA+B,eAAA,xDAMcE;mBANd,AAAAjC,wBAAA+B,eAAA,tDAOczB;AAPd,AASE,oBAAM,iBAAA4B,oBAAKhC;AAAL,AAAA,oBAAAgC;AAAUD;;AAAVC;;;AAAN,AACE,IAAMC,iBAAe,CAAGN,eAAOzB;IACzBgC,iBAAe,CAAGjC,oBAAkB,CAAGgC,iBAAe9B;IACtDgC,oBAAkB,AAACvB,wCAAcZ;IACjCoC,gBAAQ,AAACC,yBAAEV,aAAOJ;IAClBe,yBAAiB,CAAIX,gBAAOJ;IAE5BgB,sBAAoB,AAACC,uCACA,2BAAA,3BAACC,8GAAQzC,aAAM,iBAAAU,mBAAIoB;AAAJ,AAAA,oBAAApB;AAAAA;;AAAA;;;IACpCgC,wDACc,AAACC,2BAAO,xEAOR,AAAC\/C,0BAAMC;kBAPC+C;AAAA,AAAA,IAAAC,aAAAD;QAAA,AAAAE,wBAAAD,WAAA,IAAA,3CAAME;WAAN,AAAAD,wBAAAD,WAAA,IAAA,9CAAQG;AAAR,AACE,IAAMd,qBAAe,CAAGA,iBAAec;IACjCC,WAAS,AAACC,iDACAX,oBACAL;AAHhB,AAAA,0FAKGa,EAAEE;;CAPf7C;AARpB,AAAA,0FAkBG,iBAAA,sUAAA,rVAAMgC,eACJ,qMAAA,rMAACZ,gCACA,AAAC2B,iCAAc,AAAA,qHAAiBzB,kIAELC,oBAC9B,uCAAA,uFAAA,0EAAA,oGAAA,mJAAA,uIAAA,tkBAACnC,0BAAMkC,qFAEgBQ,2EACPE,2FACSE,qFAGlB,AAACY,iDACAX,oBACAL,uEAKD,AAACkB,4CACAb,oBACAL,2EAISQ;;AA5CtB;;;AA8CJ,6CAAA,sEAAAW,nHAAME,kGAAkBvE,aAAaC;AAArC,AAAA,IAAAqE,aAAAD;IAAAC,iBAAA,EAAA,EAAA,EAAA,CAAAA,cAAA,QAAA,EAAA,EAAA,CAAA,AAAAA,iDAAA,WAAA,CAAA3D,gCAAA,AAAA2D,+BAAA,KAAA,OAAA,QAAA,AAAA1D,0BAAAC,mBAAAyD,YAAAA;wBAAA,AAAAxD,wBAAAwD,eAAA,3DAAiDE;mBAAjD,AAAA1D,wBAAAwD,eAAA,tDACiDlD;AADjD,AAEE,IAAMqD,IAAE,sTAAA,6DAAA,KAAA,uDAAA,KAAA,qEAAA,iCAAA,iGAAA,3nBAACjE,0BACA,oCAAA,+HAAA,nKAACL,kJAA4BH,aAAaC,gbAIvBuE,qFACLpD;AANvB,AAOE,AACE,2DAAA,mFAAA,qHAAA,oFAAA,+EAAA,mEAAA,6DAAA,uDAAA,oEAAA,qDAAA,mEAAA,6EAAA,2EAAA,sEAAA,qEAAA,wEAAA,8DAAA,uDAAA,4DAAA,6EAAA,33CAACsD,8BAAUD,EACAE,2MACAlB;;;AAajB,AAAAjE,gCAAAC,0BAAA,mFAAA,sEAAA,wHAAA,qFAAA,WAAwES,EAAEA,MAAE4B;AAA5E,AAAA;;AAEA,AAAAtC,gCAAAC,0BAAA,mFAAA,sEAAA,wHAAA,uGAAA,WACGC,MAAMC,MAAMmC;AADf,AAEE,oBAAM,AAAA,2FAAWA;AAAjB,AACE,IAAA8C,qBAA+B,AAACnC,8CAAUX,MAAK,AAAA,2HAAWnC,OAAOD;AAAjE,AAAA,oBAAAkF;AAAA,AAAA,IAAAC,aAAAD;kBAAA,AAAAd,wBAAAe,WAAA,IAAA,rDAAYC;wBAAZ,AAAAhB,wBAAAe,WAAA,IAAA,3DAAwBvC;AAAxB,AAAA,0FACGwC,YAAY,4CAAA,6DAAA,zGAACtE,0BAAM8B;;AADtB;;;AADF;;;AAIF,AAAA9C,gCAAAC,0BAAA,mFAAA,sEAAA,wHAAA,wGAAA,WACGC,MAAMC,MAAMmC;AADf,AAEE,oBAAU,AAAA,2FAAWA;AAArB;;AAAA,AACE,OAACD,6CACA,gCAAA,6DAAA,7FAACrB,0BAAMsB,yEACP,AAAA,2HAAWnC,OACX,AAAA,mFAAOmC,OACP,AAAA,sGAAiBA;;;AAEtB,AAAAtC,gCAAAC,0BAAA,mFAAA,sEAAA,wHAAA,iEAAA,WAAqEC,MAAMC,MAAMmC;AAAjF,AACE,OAACW,8CAAUX,MAAK,AAAA,2HAAWnC,OAAOD;;AAEpC,AAAAF,gCAAAC,0BAAA,mFAAA,sEAAA,wHAAA,uHAAA,WACGC,MAAMC,MAAMmC;AADf,AAEE,IAAAiD,aAAqBpF;IAArBoF,iBAAA,EAAA,EAAA,EAAA,CAAAA,cAAA,QAAA,EAAA,EAAA,CAAA,AAAAA,iDAAA,WAAA,CAAApE,gCAAA,AAAAoE,+BAAA,KAAA,OAAA,QAAA,AAAAnE,0BAAAC,mBAAAkE,YAAAA;WAAA,AAAAjE,wBAAAiE,eAAA,9CAAc\/D;AAAd,AACE,iMAAA,1LAACa,6CAASC,MAAK,AAAA,2HAAWnC,OAAOqB;;AAErC,AAAAxB,gCAAAC,0BAAA,mFAAA,sEAAA,wHAAA,sHAAA,WACGC,MAAMC,MAAMmC;AADf,AAEE,IAAAkD,aAAqBrF;IAArBqF,iBAAA,EAAA,EAAA,EAAA,CAAAA,cAAA,QAAA,EAAA,EAAA,CAAA,AAAAA,iDAAA,WAAA,CAAArE,gCAAA,AAAAqE,+BAAA,KAAA,OAAA,QAAA,AAAApE,0BAAAC,mBAAAmE,YAAAA;WAAA,AAAAlE,wBAAAkE,eAAA,9CAAchE;IAAdiE,aAC4BnD;IAD5BmD,iBAAA,EAAA,EAAA,EAAA,CAAAA,cAAA,QAAA,EAAA,EAAA,CAAA,AAAAA,iDAAA,WAAA,CAAAtE,gCAAA,AAAAsE,+BAAA,KAAA,OAAA,QAAA,AAAArE,0BAAAC,mBAAAoE,YAAAA;kBAAA,AAAAnE,wBAAAmE,eAAA,rDACcnC;AADd,AAEE,uCAAA,hCAACtC,0BAAMsB,yEACa,AAACN,yBAAK,iBAAAE,mBAAIoB;AAAJ,AAAA,oBAAApB;AAAAA;;AAAA;;KAAoBV;;AAElD,4CAAA,qEAAAkE,jHAAME,gGACFpF,aAAaC;AADjB,AAAA,IAAAkF,aAAAD;IAAAC,iBAAA,EAAA,EAAA,EAAA,CAAAA,cAAA,QAAA,EAAA,EAAA,CAAA,AAAAA,iDAAA,WAAA,CAAAxE,gCAAA,AAAAwE,+BAAA,KAAA,OAAA,QAAA,AAAAvE,0BAAAC,mBAAAsE,YAAAA;wBAAA,AAAArE,wBAAAqE,eAAA,3DAC6BX;AAD7B,AAEG,4TAAA,gDAAA,rWAAChE,0BACA,oCAAA,+HAAA,nKAACL,kJAA4BH,aAAaC;;AAuB9C","names":["gamebase.systems.movement\/mk-system","gamebase.ecs\/mk-system","gamebase.systems.movement\/to-system","gamebase.ecs\/to-system","cljs.core\/-add-method","gamebase.ecs\/handle-event","world","event","system","gamebase.ecs\/pass-event-through-all","gamebase.ecs\/all-components-of-system","gamebase.systems.movement\/mk-test-diagonal-component","entity-or-id","key","_","gamebase.ecs\/mk-component","component","t","d","cljs.core\/rem","cljs.core\/assoc","p__66827","map__66828","cljs.core\/PROTOCOL_SENTINEL","cljs.core\/apply","cljs.core\/hash-map","cljs.core\/get","gamebase.systems.movement\/calculate-path-end-time","path","path-start-length","path-start-time","speed","extra-points","time","furthest-extra-point-distance","cljs.core\/max","cljs.core\/conj","cljs.core\/vals","or__3949__auto__","length-to-go","gamebase.geometry\/path-length","gamebase.systems.movement\/set-path","this","history","history'","cljs.core\/into","history''","cljs.core\/count","cljs.core\/vector","cljs.core\/rest","this'","path-end-time","gamebase.ecs\/mk-event","gamebase.systems.movement\/do-update","<this>","<time>","<world>","map__66830","paths-ahead","driving?","and__3938__auto__","time-of-travel","length-on-path","total-path-length","at-end?","cljs.core\/=","at-or-after-end?","path-this-and-ahead","gamebase.geometry\/path-chain","cljs.core\/concat","extra-xy","cljs.core\/mapcat","p__66832","vec__66833","cljs.core\/nth","k","dist","position","gamebase.geometry\/path-point-at-length","gamebase.ecs\/to-entity","gamebase.geometry\/angle-at-length","p__66836","map__66837","gamebase.systems.movement\/mk-path-follower","path-history-size","v","cljs.core\/vary-meta","cljs.core\/update-in","temp__5457__auto__","vec__66839","maybe-event","map__66842","map__66844","map__66845","p__66848","map__66849","gamebase.systems.movement\/mk-path-trailer"]}