{"version":3,"file":"\/home\/ja\/projects\/maks-tycoon\/FRONTEND\/target\/public\/cljs-out\/dev\/app\/ecs\/entities\/locomotive.js","sources":["locomotive.cljs"],"lineCount":101,"mappings":"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","names":["app.ecs.entities.locomotive\/mk-entity","id","tile-x","tile-y","entity","gamebase.ecs\/mk-entity","cljs.core\/assoc","gamebase.systems.movement\/mk-path-follower","gamebase.systems.drawing\/mk-static-image-component","gamebase.ecs\/ck-kvs","gamebase.systems.drawing\/mk-path-component","gamebase.systems.drawing\/mk-path-history-component","cljs.core\/-add-method","gamebase.ecs\/handle-event","world","event","this","cljs.core\/println","gamebase.ecs\/mk-event","app.tiles.general\/track-path","app.ecs.entities.locomotive\/-get-layer","layer-key","p1__46093#","cljs.core\/filter","cljs.core\/=","cljs.core\/first","cljs.core\/second","app.ecs.entities.locomotive\/-put-to-history","history","track","history'","cljs.core\/count","cljs.core\/apply","cljs.core\/vector","cljs.core\/rest","cljs.core\/into","app.ecs.entities.locomotive\/-history-to-map","cljs.core\/mapcat","p__46094","vec__46095","cljs.core\/nth","tx","ty","cljs.core\/hash-map","map__46098","cljs.core\/PROTOCOL_SENTINEL","cljs.core\/get","vec__46099","vec__46102","path","new-tile-x","new-tile-y","app.tiles.general\/track-destination-tile","layer","tile-context","new-tile","gamebase.layers\/get-tile-from-layer","info","gamebase.layers\/get-tile-info-from-layer","extra","app.state\/get-tile-extra","_","tile-end","new-tile-start","possible-new-tracks","app.tiles.general\/active-tracks-from","new-track","js\/console","cljs.core\/pr-str","new-path","p__46106","map__46107","rear-coupling","gamebase.ecs\/to-entity","p__46109","map__46110","p__46112","map__46113","the-other-id","the-other","gamebase.ecs\/get-entity-by-key"]}